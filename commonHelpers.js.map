{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43796292-928ecbabb016f283abab002e7';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotoByQuery = (q = 'cats') => {\n    const searchParams = new URLSearchParams({\n      key: API_KEY,\n      q,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    });\n  \n    return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n  \n      return response.json();\n    });\n  };","export const createGalleryMarkup = (images) => {\n    return images.map(\n        ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <div class =\"gallery-container\">\n         <a href=\"${largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-img\" />\n         </a>\n         <div class=\"tags-container\">\n          <ul class=\"gallery-item-list\">\n            <li class=\"gallery-tags\">\n              <h3 class=\"gallery-item-title\">Likes</h3>\n              <p class=\"gallery-item-title\">${likes}</p>\n            </li>\n            <li class=\"gallery-tags\">\n              <h3 class=\"gallery-item-title\">Views</h3>\n              <p class=\"gallery-item-title\">${views}</p>\n            </li>\n            <li class=\"gallery-tags\">\n              <h3 class=\"gallery-item-title\">Comments</h3>\n              <p class=\"gallery-item-title\">${comments}</p>\n            </li>\n            <li class=\"gallery-tags\">\n              <h3 class=\"gallery-item-title\">Downloads</h3>\n              <p class=\"gallery-item-title\">${downloads}</p>\n            </li>\n          </ul>\n          </div>\n        </div>\n`\n      ).join('');\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { fetchPhotoByQuery } from './js/pixabay-api.js';\nimport { createGalleryMarkup } from './js/render-functions.js';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('.js-loader');\n\n\nfunction onSearchForm(event) {\n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n    if(searchQuery === '') {\n     galleryEl.innerHTML = '';\n     event.target.reset();\n     iziToast.show({\n        message: 'Input field can not be empty',\n        position: 'topCenter',\n        timeout: 2000,\n        color: 'red',\n      });\n      return;\n    }\n\n    galleryEl.innerHTML = '';\n    loaderEl.classList.remove('is-hidden');\n    \n    fetchPhotoByQuery(searchQuery).then(imagesData => {\n        if (imagesData.total === 0) {\n            iziToast.show({\n              message: 'Sorry, there are no images matching your search query. Try again!',\n              position: 'topCenter',\n              timeout: 2000,\n              color: 'red',\n            });\n          }\n        galleryEl.innerHTML = createGalleryMarkup(imagesData.hits);\n        const lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n          });\n          lightbox.refresh();\n    }).catch(error => \n        console.log(error)).finally(() => {\n            event.target.reset();\n            loaderEl.classList.add('is-hidden');\n        });\n};\n\nsearchFormEl.addEventListener('submit', onSearchForm);\n\n   \n\n\n"],"names":["API_KEY","BASE_URL","fetchPhotoByQuery","q","searchParams","response","createGalleryMarkup","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","galleryEl","searchFormEl","loaderEl","onSearchForm","event","searchQuery","iziToast","imagesData","SimpleLightbox","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAoB,CAACC,EAAI,SAAW,CAC7C,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAClB,CAAK,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACtB,CAAK,CACF,ECnBUC,EAAuBC,GACzBA,EAAO,IACV,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,oBAElEL,CAAa;AAAA,sBACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMFC,CAAK;AAAA;AAAA;AAAA;AAAA,8CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8CAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,CAMvD,EAAQ,KAAK,EAAE,ECtBTC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,YAAY,EAGpD,SAASC,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC9D,GAAGC,IAAgB,GAAI,CACtBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbE,EAAS,KAAK,CACX,QAAS,+BACT,SAAU,YACV,QAAS,IACT,MAAO,KACf,CAAO,EACD,MACD,CAEDN,EAAU,UAAY,GACtBE,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAkBkB,CAAW,EAAE,KAAKE,GAAc,CAC1CA,EAAW,QAAU,GACrBD,EAAS,KAAK,CACZ,QAAS,oEACT,SAAU,YACV,QAAS,IACT,MAAO,KACrB,CAAa,EAELN,EAAU,UAAYT,EAAoBgB,EAAW,IAAI,EACxC,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC1B,CAAW,EACQ,QAAO,CAC1B,CAAK,EAAE,MAAMC,GACL,QAAQ,IAAIA,CAAK,CAAC,EAAE,QAAQ,IAAM,CAC9BL,EAAM,OAAO,QACbF,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAS,CACT,CAEAD,EAAa,iBAAiB,SAAUE,CAAY"}